{"ast":null,"code":"import defaultsDeep from 'lodash/defaultsDeep';\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nvar DefaultOptions = {\n  modules: ['DisplaySize', 'Toolbar', 'Resize', 'AltAttribute'],\n  overlayStyles: {\n    position: 'absolute',\n    boxSizing: 'border-box',\n    border: '1px dashed #444'\n  },\n  handleStyles: {\n    position: 'absolute',\n    height: '12px',\n    width: '12px',\n    backgroundColor: 'white',\n    border: '1px solid #777',\n    boxSizing: 'border-box',\n    opacity: '0.80'\n  },\n  displayStyles: {\n    position: 'absolute',\n    font: '12px/1.0 Arial, Helvetica, sans-serif',\n    padding: '4px 8px',\n    textAlign: 'center',\n    backgroundColor: 'white',\n    color: '#333',\n    border: '1px solid #777',\n    boxSizing: 'border-box',\n    opacity: '0.80',\n    cursor: 'default'\n  },\n  toolbarStyles: {\n    position: 'absolute',\n    top: '-12px',\n    right: '0',\n    left: '0',\n    height: '0',\n    minWidth: '100px',\n    font: '12px/1.0 Arial, Helvetica, sans-serif',\n    textAlign: 'center',\n    color: '#333',\n    boxSizing: 'border-box',\n    cursor: 'default'\n  },\n  toolbarButtonStyles: {\n    display: 'inline-block',\n    width: '24px',\n    height: '24px',\n    background: 'white',\n    border: '1px solid #999',\n    verticalAlign: 'middle'\n  },\n  toolbarButtonSvgStyles: {\n    fill: '#444',\n    stroke: '#444',\n    strokeWidth: '2'\n  }\n};\nvar BaseModule = function BaseModule(resizer) {\n  _classCallCheck(this, BaseModule);\n  _defineProperty(this, \"onCreate\", function () {});\n  _defineProperty(this, \"onDestroy\", function () {});\n  _defineProperty(this, \"onUpdate\", function () {});\n  this.overlay = resizer.overlay;\n  this.img = resizer.img;\n  this.options = resizer.options;\n  this.requestUpdate = resizer.onUpdate;\n}\n/*\n      requestUpdate (passed in by the library during construction, above) can be used to let the library know that\n      you've changed something about the image that would require re-calculating the overlay (and all of its child\n      elements)\n       For example, if you add a margin to the element, you'll want to call this or else all the controls will be\n      misaligned on-screen.\n   */\n\n/*\n      onCreate will be called when the element is clicked on\n       If the module has any user controls, it should create any containers that it'll need here.\n      The overlay has absolute positioning, and will be automatically repositioned and resized as needed, so you can\n      use your own absolute positioning and the 'top', 'right', etc. styles to be positioned relative to the element\n      on-screen.\n   */;\nvar DisplaySize = /*#__PURE__*/function (_BaseModule) {\n  _inherits(DisplaySize, _BaseModule);\n  var _super = _createSuper(DisplaySize);\n  function DisplaySize() {\n    var _this;\n    _classCallCheck(this, DisplaySize);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onCreate\", function () {\n      // Create the container to hold the size display\n      _this.display = document.createElement('div'); // Apply styles\n\n      Object.assign(_this.display.style, _this.options.displayStyles); // Attach it\n\n      _this.overlay.appendChild(_this.display);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDestroy\", function () {});\n    _defineProperty(_assertThisInitialized(_this), \"onUpdate\", function () {\n      if (!_this.display || !_this.img) {\n        return;\n      }\n      var size = _this.getCurrentSize();\n      _this.display.innerHTML = size.join(' &times; ');\n      if (size[0] > 120 && size[1] > 30) {\n        // position on top of image\n        Object.assign(_this.display.style, {\n          right: '4px',\n          bottom: '4px',\n          left: 'auto'\n        });\n      } else if (_this.img.style[\"float\"] == 'right') {\n        // position off bottom left\n        var dispRect = _this.display.getBoundingClientRect();\n        Object.assign(_this.display.style, {\n          right: 'auto',\n          bottom: '0px',\n          left: \"-\".concat(dispRect.width + 4, \"px\")\n        });\n      } else {\n        // position off bottom right\n        var _dispRect = _this.display.getBoundingClientRect();\n        Object.assign(_this.display.style, {\n          right: \"-\".concat(_dispRect.width + 8, \"px\"),\n          bottom: '0px',\n          left: 'auto'\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getCurrentSize\", function () {\n      return [_this.img.width, Math.round(_this.img.width / _this.img.naturalWidth * _this.img.naturalHeight)];\n    });\n    return _this;\n  }\n  return DisplaySize;\n}(BaseModule);\nvar IconAlignLeft = \"<svg viewbox=\\\"0 0 18 18\\\">\\n  <line class=\\\"ql-stroke\\\" x1=\\\"3\\\" x2=\\\"15\\\" y1=\\\"9\\\" y2=\\\"9\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"3\\\" x2=\\\"13\\\" y1=\\\"14\\\" y2=\\\"14\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"3\\\" x2=\\\"9\\\" y1=\\\"4\\\" y2=\\\"4\\\"></line>\\n</svg>\";\nvar IconAlignCenter = \"<svg viewbox=\\\"0 0 18 18\\\">\\n  <line class=\\\"ql-stroke\\\" x1=\\\"15\\\" x2=\\\"3\\\" y1=\\\"9\\\" y2=\\\"9\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"14\\\" x2=\\\"4\\\" y1=\\\"14\\\" y2=\\\"14\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"12\\\" x2=\\\"6\\\" y1=\\\"4\\\" y2=\\\"4\\\"></line>\\n</svg>\";\nvar IconAlignRight = \"<svg viewbox=\\\"0 0 18 18\\\">\\n  <line class=\\\"ql-stroke\\\" x1=\\\"15\\\" x2=\\\"3\\\" y1=\\\"9\\\" y2=\\\"9\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"15\\\" x2=\\\"5\\\" y1=\\\"14\\\" y2=\\\"14\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"15\\\" x2=\\\"9\\\" y1=\\\"4\\\" y2=\\\"4\\\"></line>\\n</svg>\";\nvar Parchment = {};\nvar FloatStyle = {};\nvar MarginStyle = {};\nvar DisplayStyle = {};\nvar Toolbar = /*#__PURE__*/function (_BaseModule) {\n  _inherits(Toolbar, _BaseModule);\n  var _super = _createSuper(Toolbar);\n  function Toolbar() {\n    var _this;\n    _classCallCheck(this, Toolbar);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onCreate\", function (parchment) {\n      // Initilize styles\n      Parchment = parchment;\n      FloatStyle = new Parchment.Attributor.Style('float', 'float');\n      MarginStyle = new Parchment.Attributor.Style('margin', 'margin');\n      DisplayStyle = new Parchment.Attributor.Style('display', 'display'); // Setup Toolbar\n\n      _this.toolbar = document.createElement('div');\n      Object.assign(_this.toolbar.style, _this.options.toolbarStyles);\n      _this.overlay.appendChild(_this.toolbar); // Setup Buttons\n\n      _this._defineAlignments();\n      _this._addToolbarButtons();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDestroy\", function () {});\n    _defineProperty(_assertThisInitialized(_this), \"onUpdate\", function () {});\n    _defineProperty(_assertThisInitialized(_this), \"_defineAlignments\", function () {\n      _this.alignments = [{\n        icon: IconAlignLeft,\n        apply: function apply() {\n          DisplayStyle.add(_this.img, 'inline');\n          FloatStyle.add(_this.img, 'left');\n          MarginStyle.add(_this.img, '0 1em 1em 0');\n        },\n        isApplied: function isApplied() {\n          return FloatStyle.value(_this.img) == 'left';\n        }\n      }, {\n        icon: IconAlignCenter,\n        apply: function apply() {\n          DisplayStyle.add(_this.img, 'block');\n          FloatStyle.remove(_this.img);\n          MarginStyle.add(_this.img, 'auto');\n        },\n        isApplied: function isApplied() {\n          return MarginStyle.value(_this.img) == 'auto';\n        }\n      }, {\n        icon: IconAlignRight,\n        apply: function apply() {\n          DisplayStyle.add(_this.img, 'inline');\n          FloatStyle.add(_this.img, 'right');\n          MarginStyle.add(_this.img, '0 0 1em 1em');\n        },\n        isApplied: function isApplied() {\n          return FloatStyle.value(_this.img) == 'right';\n        }\n      }];\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_addToolbarButtons\", function () {\n      var buttons = [];\n      _this.alignments.forEach(function (alignment, idx) {\n        var button = document.createElement('span');\n        buttons.push(button);\n        button.innerHTML = alignment.icon;\n        button.addEventListener('click', function () {\n          // deselect all buttons\n          buttons.forEach(function (button) {\n            return button.style.filter = '';\n          });\n          if (alignment.isApplied()) {\n            // If applied, unapply\n            FloatStyle.remove(_this.img);\n            MarginStyle.remove(_this.img);\n            DisplayStyle.remove(_this.img);\n          } else {\n            // otherwise, select button and apply\n            _this._selectButton(button);\n            alignment.apply();\n          } // image may change position; redraw drag handles\n\n          _this.requestUpdate();\n        });\n        Object.assign(button.style, _this.options.toolbarButtonStyles);\n        if (idx > 0) {\n          button.style.borderLeftWidth = '0';\n        }\n        Object.assign(button.children[0].style, _this.options.toolbarButtonSvgStyles);\n        if (alignment.isApplied()) {\n          // select button if previously applied\n          _this._selectButton(button);\n        }\n        _this.toolbar.appendChild(button);\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_selectButton\", function (button) {\n      button.style.filter = 'invert(20%)';\n    });\n    return _this;\n  }\n  return Toolbar;\n}(BaseModule);\nvar Resize = /*#__PURE__*/function (_BaseModule) {\n  _inherits(Resize, _BaseModule);\n  var _super = _createSuper(Resize);\n  function Resize() {\n    var _this;\n    _classCallCheck(this, Resize);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onCreate\", function () {\n      // track resize handles\n      _this.boxes = []; // add 4 resize handles\n\n      _this.addBox('nwse-resize'); // top left\n\n      _this.addBox('nesw-resize'); // top right\n\n      _this.addBox('nwse-resize'); // bottom right\n\n      _this.addBox('nesw-resize'); // bottom left\n\n      _this.positionBoxes();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDestroy\", function () {\n      // reset drag handle cursors\n      _this.setCursor('');\n    });\n    _defineProperty(_assertThisInitialized(_this), \"positionBoxes\", function () {\n      var handleXOffset = \"\".concat(-parseFloat(_this.options.handleStyles.width) / 2, \"px\");\n      var handleYOffset = \"\".concat(-parseFloat(_this.options.handleStyles.height) / 2, \"px\") // set the top and left for each drag handle\n      ;\n      [{\n        left: handleXOffset,\n        top: handleYOffset\n      },\n      // top left\n      {\n        right: handleXOffset,\n        top: handleYOffset\n      },\n      // top right\n      {\n        right: handleXOffset,\n        bottom: handleYOffset\n      },\n      // bottom right\n      {\n        left: handleXOffset,\n        bottom: handleYOffset\n      } // bottom left\n      ].forEach(function (pos, idx) {\n        Object.assign(_this.boxes[idx].style, pos);\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"addBox\", function (cursor) {\n      // create div element for resize handle\n      var box = document.createElement('div'); // Star with the specified styles\n\n      Object.assign(box.style, _this.options.handleStyles);\n      box.style.cursor = cursor; // Set the width/height to use 'px'\n\n      box.style.width = \"\".concat(_this.options.handleStyles.width, \"px\");\n      box.style.height = \"\".concat(_this.options.handleStyles.height, \"px\"); // listen for mousedown on each box\n\n      box.addEventListener('mousedown', _this.handleMousedown, false); // add drag handle to document\n\n      _this.overlay.appendChild(box); // keep track of drag handle\n\n      _this.boxes.push(box);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMousedown\", function (evt) {\n      // note which box\n      _this.dragBox = evt.target; // note starting mousedown position\n\n      _this.dragStartX = evt.clientX; // store the width before the drag\n\n      _this.preDragWidth = _this.img.width || _this.img.naturalWidth; // set the proper cursor everywhere\n\n      _this.setCursor(_this.dragBox.style.cursor); // listen for movement and mouseup\n\n      document.addEventListener('mousemove', _this.handleDrag, false);\n      document.addEventListener('mouseup', _this.handleMouseup, false);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseup\", function () {\n      // reset cursor everywhere\n      _this.setCursor(''); // stop listening for movement and mouseup\n\n      document.removeEventListener('mousemove', _this.handleDrag);\n      document.removeEventListener('mouseup', _this.handleMouseup);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleDrag\", function (evt) {\n      if (!_this.img) {\n        // image not set yet\n        return;\n      } // update image size\n\n      var deltaX = evt.clientX - _this.dragStartX;\n      if (_this.dragBox === _this.boxes[0] || _this.dragBox === _this.boxes[3]) {\n        // left-side resize handler; dragging right shrinks image\n        _this.img.width = Math.round(_this.preDragWidth - deltaX);\n      } else {\n        // right-side resize handler; dragging right enlarges image\n        _this.img.width = Math.round(_this.preDragWidth + deltaX);\n      }\n      _this.requestUpdate();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setCursor\", function (value) {\n      [document.body, _this.img].forEach(function (el) {\n        el.style.cursor = value; // eslint-disable-line no-param-reassign\n      });\n    });\n    return _this;\n  }\n  return Resize;\n}(BaseModule);\nvar AltAttribute = /*#__PURE__*/function (_BaseModule) {\n  _inherits(AltAttribute, _BaseModule);\n  var _super = _createSuper(AltAttribute);\n  function AltAttribute() {\n    var _this;\n    _classCallCheck(this, AltAttribute);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onCreate\", function () {\n      // Create the container to hold the input element\n      _this.display = document.createElement('div'); // Apply styles\n\n      Object.assign(_this.display.style, _this.options.displayStyles); // Attach it\n\n      _this.overlay.appendChild(_this.display); // ALT input\n\n      _this.altInput = document.createElement('input');\n      if (_this.img.alt) {\n        // Set default value into the input\n        _this.altInput.value = _this.img.alt;\n      }\n      _this.altInput.addEventListener('input', _this.onAltInputChange);\n      _this.display.insertAdjacentHTML('beforeend', 'Alt: ');\n      _this.display.appendChild(_this.altInput);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAltInputChange\", function (e) {\n      _this.img.alt = e.target.value;\n      _this.img.title = e.target.value;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDestroy\", function () {\n      _this.altInput.removeEventListener('input', _this.onAltInputChange);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onUpdate\", function () {\n      if (!_this.display || !_this.img) {\n        return;\n      }\n      Object.assign(_this.display.style, {\n        right: 'auto',\n        bottom: '-40px',\n        left: '8px',\n        'min-width': '172px'\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getCurrentSize\", function () {\n      return [_this.img.width, Math.round(_this.img.width / _this.img.naturalWidth * _this.img.naturalHeight)];\n    });\n    return _this;\n  }\n  return AltAttribute;\n}(BaseModule);\nvar knownModules = {\n  DisplaySize: DisplaySize,\n  Toolbar: Toolbar,\n  Resize: Resize,\n  AltAttribute: AltAttribute\n};\n/**\n * Custom module for quilljs to allow user to resize <img> elements\n * (Works on Chrome, Edge, Safari and replaces Firefox's native resize behavior)\n * @see https://quilljs.com/blog/building-a-custom-module/\n */\n\nvar ImageResize = function ImageResize(quill) {\n  var _this = this;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  _classCallCheck(this, ImageResize);\n  _defineProperty(this, \"initializeModules\", function () {\n    _this.removeModules();\n    _this.modules = _this.moduleClasses.map(function (ModuleClass) {\n      return new (knownModules[ModuleClass] || ModuleClass)(_this);\n    });\n    _this.modules.forEach(function (module) {\n      module.onCreate(_this.parchment);\n    });\n    _this.onUpdate();\n  });\n  _defineProperty(this, \"onUpdate\", function () {\n    _this.repositionElements();\n    _this.modules.forEach(function (module) {\n      module.onUpdate();\n    });\n  });\n  _defineProperty(this, \"removeModules\", function () {\n    _this.modules.forEach(function (module) {\n      module.onDestroy();\n    });\n    _this.modules = [];\n  });\n  _defineProperty(this, \"handleClick\", function (evt) {\n    if (evt.target && evt.target.tagName && evt.target.tagName.toUpperCase() === 'IMG') {\n      if (_this.img === evt.target) {\n        // we are already focused on this image\n        return;\n      }\n      if (_this.img) {\n        // we were just focused on another image\n        _this.hide();\n      } // clicked on an image inside the editor\n\n      _this.show(evt.target);\n    } else if (_this.img) {\n      // clicked on a non image\n      _this.hide();\n    }\n  });\n  _defineProperty(this, \"show\", function (img) {\n    // keep track of this img element\n    _this.img = img;\n    _this.showOverlay();\n    _this.initializeModules();\n  });\n  _defineProperty(this, \"showOverlay\", function () {\n    if (_this.overlay) {\n      _this.hideOverlay();\n    }\n    _this.quill.setSelection(null); // prevent spurious text selection\n\n    _this.setUserSelect('none'); // listen for the image being deleted or moved\n\n    document.addEventListener('keyup', _this.checkImage, true);\n    _this.quill.root.addEventListener('input', _this.checkImage, true); // Create and add the overlay\n\n    _this.overlay = document.createElement('div');\n    Object.assign(_this.overlay.style, _this.options.overlayStyles);\n    _this.quill.root.parentNode.appendChild(_this.overlay);\n    _this.repositionElements();\n  });\n  _defineProperty(this, \"hideOverlay\", function () {\n    if (!_this.overlay) {\n      return;\n    } // Remove the overlay\n\n    _this.quill.root.parentNode.removeChild(_this.overlay);\n    _this.overlay = undefined; // stop listening for image deletion or movement\n\n    document.removeEventListener('keyup', _this.checkImage);\n    _this.quill.root.removeEventListener('input', _this.checkImage); // reset user-select\n\n    _this.setUserSelect('');\n  });\n  _defineProperty(this, \"repositionElements\", function () {\n    if (!_this.overlay || !_this.img) {\n      return;\n    } // position the overlay over the image\n\n    var parent = _this.quill.root.parentNode;\n    var imgRect = _this.img.getBoundingClientRect();\n    var containerRect = parent.getBoundingClientRect();\n    Object.assign(_this.overlay.style, {\n      left: \"\".concat(imgRect.left - containerRect.left - 1 + parent.scrollLeft, \"px\"),\n      top: \"\".concat(imgRect.top - containerRect.top + parent.scrollTop, \"px\"),\n      width: \"\".concat(imgRect.width, \"px\"),\n      height: \"\".concat(imgRect.height, \"px\")\n    });\n  });\n  _defineProperty(this, \"hide\", function () {\n    _this.hideOverlay();\n    _this.removeModules();\n    _this.img = undefined;\n  });\n  _defineProperty(this, \"setUserSelect\", function (value) {\n    ['userSelect', 'mozUserSelect', 'webkitUserSelect', 'msUserSelect'].forEach(function (prop) {\n      // set on contenteditable element and <html>\n      _this.quill.root.style[prop] = value;\n      document.documentElement.style[prop] = value;\n    });\n  });\n  _defineProperty(this, \"checkImage\", function (evt) {\n    if (_this.img) {\n      if (document.activeElement.tagName === 'BODY' && (evt.code === 46 || evt.code === 8 || evt.keyCode === 46 || evt.keyCode === 8)) {\n        var imageNode = window.Quill.find(_this.img);\n        if (imageNode) {\n          imageNode.deleteAt(0);\n        }\n        _this.hide();\n      }\n    }\n  });\n\n  // save the quill reference and options\n  this.quill = quill; // Apply the options to our defaults, and stash them for later\n  // defaultsDeep doesn't do arrays as you'd expect, so we'll need to apply the classes array from options separately\n\n  var moduleClasses = false;\n  if (options.modules) {\n    moduleClasses = options.modules.slice();\n  }\n  if (options.parchment) {\n    this.parchment = options.parchment;\n  } // Apply options to default options\n\n  this.options = defaultsDeep({}, options, DefaultOptions); // (see above about moduleClasses)\n\n  if (moduleClasses !== false) {\n    this.options.modules = moduleClasses;\n  } // disable native image resizing on firefox\n\n  document.execCommand('enableObjectResizing', false, 'false'); // respond to clicks inside the editor\n\n  this.quill.root.addEventListener('click', this.handleClick, false);\n  this.quill.root.parentNode.style.position = this.quill.root.parentNode.style.position || 'relative'; // setup modules\n\n  this.moduleClasses = this.options.modules;\n  this.modules = [];\n};\nexport default ImageResize;","map":{"version":3,"names":["DefaultOptions","modules","overlayStyles","position","boxSizing","border","handleStyles","height","width","backgroundColor","opacity","displayStyles","font","padding","textAlign","color","cursor","toolbarStyles","top","right","left","minWidth","toolbarButtonStyles","display","background","verticalAlign","toolbarButtonSvgStyles","fill","stroke","strokeWidth","BaseModule","resizer","_classCallCheck","_defineProperty","overlay","img","options","requestUpdate","onUpdate","DisplaySize","_BaseModule","_inherits","_super","_createSuper","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_assertThisInitialized","document","createElement","Object","assign","style","appendChild","size","getCurrentSize","innerHTML","join","bottom","dispRect","getBoundingClientRect","_dispRect","Math","round","naturalWidth","naturalHeight","Parchment","FloatStyle","MarginStyle","DisplayStyle","Toolbar","parchment","Attributor","Style","toolbar","_defineAlignments","_addToolbarButtons","alignments","icon","IconAlignLeft","add","isApplied","value","IconAlignCenter","remove","IconAlignRight","buttons","forEach","alignment","idx","button","push","addEventListener","filter","_selectButton","borderLeftWidth","children","Resize","boxes","addBox","positionBoxes","setCursor","handleXOffset","parseFloat","handleYOffset","pos","box","handleMousedown","evt","dragBox","target","dragStartX","clientX","preDragWidth","handleDrag","handleMouseup","removeEventListener","deltaX","body","el","AltAttribute","altInput","alt","onAltInputChange","insertAdjacentHTML","e","title","knownModules","ImageResize","quill","undefined","removeModules","moduleClasses","map","ModuleClass","module","onCreate","repositionElements","onDestroy","tagName","toUpperCase","hide","show","showOverlay","initializeModules","hideOverlay","setSelection","setUserSelect","checkImage","root","parentNode","removeChild","parent","imgRect","containerRect","scrollLeft","scrollTop","prop","documentElement","activeElement","code","keyCode","imageNode","window","Quill","find","deleteAt","slice","defaultsDeep","execCommand","handleClick"],"sources":["C:\\Spring Boot\\workspacebranch\\flirdog\\src\\main\\webapp\\node_modules\\@looop\\quill-image-resize-module-react\\src\\DefaultOptions.js","C:\\Spring Boot\\workspacebranch\\flirdog\\src\\main\\webapp\\node_modules\\@looop\\quill-image-resize-module-react\\src\\modules\\BaseModule.js","C:\\Spring Boot\\workspacebranch\\flirdog\\src\\main\\webapp\\node_modules\\@looop\\quill-image-resize-module-react\\src\\modules\\DisplaySize.js","C:\\Spring Boot\\workspacebranch\\flirdog\\src\\main\\webapp\\node_modules\\@looop\\quill-image-resize-module-react\\src\\modules\\Toolbar.js","C:\\Spring Boot\\workspacebranch\\flirdog\\src\\main\\webapp\\node_modules\\@looop\\quill-image-resize-module-react\\src\\modules\\Resize.js","C:\\Spring Boot\\workspacebranch\\flirdog\\src\\main\\webapp\\node_modules\\@looop\\quill-image-resize-module-react\\src\\modules\\AltAttribute.js","C:\\Spring Boot\\workspacebranch\\flirdog\\src\\main\\webapp\\node_modules\\@looop\\quill-image-resize-module-react\\src\\ImageResize.js"],"sourcesContent":["export default {\n  modules: ['DisplaySize', 'Toolbar', 'Resize', 'AltAttribute'],\n  overlayStyles: {\n    position: 'absolute',\n    boxSizing: 'border-box',\n    border: '1px dashed #444'\n  },\n  handleStyles: {\n    position: 'absolute',\n    height: '12px',\n    width: '12px',\n    backgroundColor: 'white',\n    border: '1px solid #777',\n    boxSizing: 'border-box',\n    opacity: '0.80'\n  },\n  displayStyles: {\n    position: 'absolute',\n    font: '12px/1.0 Arial, Helvetica, sans-serif',\n    padding: '4px 8px',\n    textAlign: 'center',\n    backgroundColor: 'white',\n    color: '#333',\n    border: '1px solid #777',\n    boxSizing: 'border-box',\n    opacity: '0.80',\n    cursor: 'default'\n  },\n  toolbarStyles: {\n    position: 'absolute',\n    top: '-12px',\n    right: '0',\n    left: '0',\n    height: '0',\n    minWidth: '100px',\n    font: '12px/1.0 Arial, Helvetica, sans-serif',\n    textAlign: 'center',\n    color: '#333',\n    boxSizing: 'border-box',\n    cursor: 'default'\n  },\n  toolbarButtonStyles: {\n    display: 'inline-block',\n    width: '24px',\n    height: '24px',\n    background: 'white',\n    border: '1px solid #999',\n    verticalAlign: 'middle'\n  },\n  toolbarButtonSvgStyles: {\n    fill: '#444',\n    stroke: '#444',\n    strokeWidth: '2'\n  }\n}\n","export class BaseModule {\n  constructor(resizer) {\n    this.overlay = resizer.overlay\n    this.img = resizer.img\n    this.options = resizer.options\n    this.requestUpdate = resizer.onUpdate\n  }\n  /*\n        requestUpdate (passed in by the library during construction, above) can be used to let the library know that\n        you've changed something about the image that would require re-calculating the overlay (and all of its child\n        elements)\n\n        For example, if you add a margin to the element, you'll want to call this or else all the controls will be\n        misaligned on-screen.\n     */\n\n  /*\n        onCreate will be called when the element is clicked on\n\n        If the module has any user controls, it should create any containers that it'll need here.\n        The overlay has absolute positioning, and will be automatically repositioned and resized as needed, so you can\n        use your own absolute positioning and the 'top', 'right', etc. styles to be positioned relative to the element\n        on-screen.\n     */\n  onCreate = () => {}\n\n  /*\n        onDestroy will be called when the element is de-selected, or when this module otherwise needs to tidy up.\n\n        If you created any DOM elements in onCreate, please remove them from the DOM and destroy them here.\n     */\n  onDestroy = () => {}\n\n  /*\n        onUpdate will be called any time that the element is changed (e.g. resized, aligned, etc.)\n\n        This frequently happens during resize dragging, so keep computations light while here to ensure a smooth\n        user experience.\n     */\n  onUpdate = () => {}\n}\n","import { BaseModule } from './BaseModule'\n\nexport class DisplaySize extends BaseModule {\n  onCreate = () => {\n    // Create the container to hold the size display\n    this.display = document.createElement('div')\n\n    // Apply styles\n    Object.assign(this.display.style, this.options.displayStyles)\n\n    // Attach it\n    this.overlay.appendChild(this.display)\n  }\n\n  onDestroy = () => {}\n\n  onUpdate = () => {\n    if (!this.display || !this.img) {\n      return\n    }\n\n    const size = this.getCurrentSize()\n    this.display.innerHTML = size.join(' &times; ')\n    if (size[0] > 120 && size[1] > 30) {\n      // position on top of image\n      Object.assign(this.display.style, {\n        right: '4px',\n        bottom: '4px',\n        left: 'auto'\n      })\n    } else if (this.img.style.float == 'right') {\n      // position off bottom left\n      const dispRect = this.display.getBoundingClientRect()\n      Object.assign(this.display.style, {\n        right: 'auto',\n        bottom: '0px',\n        left: `-${dispRect.width + 4}px`\n      })\n    } else {\n      // position off bottom right\n      const dispRect = this.display.getBoundingClientRect()\n      Object.assign(this.display.style, {\n        right: `-${dispRect.width + 8}px`,\n        bottom: '0px',\n        left: 'auto'\n      })\n    }\n  }\n\n  getCurrentSize = () => [\n    this.img.width,\n    Math.round(\n      (this.img.width / this.img.naturalWidth) * this.img.naturalHeight\n    )\n  ]\n}\n","import IconAlignLeft from 'quill/assets/icons/align-left.svg'\nimport IconAlignCenter from 'quill/assets/icons/align-center.svg'\nimport IconAlignRight from 'quill/assets/icons/align-right.svg'\nimport { BaseModule } from './BaseModule'\n\nlet Parchment = {}\nlet FloatStyle = {}\nlet MarginStyle = {}\nlet DisplayStyle = {}\n\nexport class Toolbar extends BaseModule {\n  onCreate = (parchment) => {\n    // Initilize styles\n    Parchment = parchment\n    FloatStyle = new Parchment.Attributor.Style('float', 'float')\n    MarginStyle = new Parchment.Attributor.Style('margin', 'margin')\n    DisplayStyle = new Parchment.Attributor.Style('display', 'display')\n\n    // Setup Toolbar\n    this.toolbar = document.createElement('div')\n    Object.assign(this.toolbar.style, this.options.toolbarStyles)\n    this.overlay.appendChild(this.toolbar)\n\n    // Setup Buttons\n    this._defineAlignments()\n    this._addToolbarButtons()\n  }\n\n  // The toolbar and its children will be destroyed when the overlay is removed\n  onDestroy = () => {}\n\n  // Nothing to update on drag because we are are positioned relative to the overlay\n  onUpdate = () => {}\n\n  _defineAlignments = () => {\n    this.alignments = [\n      {\n        icon: IconAlignLeft,\n        apply: () => {\n          DisplayStyle.add(this.img, 'inline')\n          FloatStyle.add(this.img, 'left')\n          MarginStyle.add(this.img, '0 1em 1em 0')\n        },\n        isApplied: () => FloatStyle.value(this.img) == 'left'\n      },\n      {\n        icon: IconAlignCenter,\n        apply: () => {\n          DisplayStyle.add(this.img, 'block')\n          FloatStyle.remove(this.img)\n          MarginStyle.add(this.img, 'auto')\n        },\n        isApplied: () => MarginStyle.value(this.img) == 'auto'\n      },\n      {\n        icon: IconAlignRight,\n        apply: () => {\n          DisplayStyle.add(this.img, 'inline')\n          FloatStyle.add(this.img, 'right')\n          MarginStyle.add(this.img, '0 0 1em 1em')\n        },\n        isApplied: () => FloatStyle.value(this.img) == 'right'\n      }\n    ]\n  }\n\n  _addToolbarButtons = () => {\n    const buttons = []\n    this.alignments.forEach((alignment, idx) => {\n      const button = document.createElement('span')\n      buttons.push(button)\n      button.innerHTML = alignment.icon\n      button.addEventListener('click', () => {\n        // deselect all buttons\n        buttons.forEach((button) => (button.style.filter = ''))\n        if (alignment.isApplied()) {\n          // If applied, unapply\n          FloatStyle.remove(this.img)\n          MarginStyle.remove(this.img)\n          DisplayStyle.remove(this.img)\n        } else {\n          // otherwise, select button and apply\n          this._selectButton(button)\n          alignment.apply()\n        }\n        // image may change position; redraw drag handles\n        this.requestUpdate()\n      })\n      Object.assign(button.style, this.options.toolbarButtonStyles)\n      if (idx > 0) {\n        button.style.borderLeftWidth = '0'\n      }\n      Object.assign(\n        button.children[0].style,\n        this.options.toolbarButtonSvgStyles\n      )\n      if (alignment.isApplied()) {\n        // select button if previously applied\n        this._selectButton(button)\n      }\n      this.toolbar.appendChild(button)\n    })\n  }\n\n  _selectButton = (button) => {\n    button.style.filter = 'invert(20%)'\n  }\n}\n","import { BaseModule } from './BaseModule'\n\nexport class Resize extends BaseModule {\n  onCreate = () => {\n    // track resize handles\n    this.boxes = []\n\n    // add 4 resize handles\n    this.addBox('nwse-resize') // top left\n    this.addBox('nesw-resize') // top right\n    this.addBox('nwse-resize') // bottom right\n    this.addBox('nesw-resize') // bottom left\n\n    this.positionBoxes()\n  }\n\n  onDestroy = () => {\n    // reset drag handle cursors\n    this.setCursor('')\n  }\n\n  positionBoxes = () => {\n    const handleXOffset = `${-parseFloat(this.options.handleStyles.width) /\n      2}px`\n    const handleYOffset = `${-parseFloat(this.options.handleStyles.height) /\n      2}px`\n\n    // set the top and left for each drag handle\n    ;[\n      { left: handleXOffset, top: handleYOffset }, // top left\n      { right: handleXOffset, top: handleYOffset }, // top right\n      { right: handleXOffset, bottom: handleYOffset }, // bottom right\n      { left: handleXOffset, bottom: handleYOffset } // bottom left\n    ].forEach((pos, idx) => {\n      Object.assign(this.boxes[idx].style, pos)\n    })\n  }\n\n  addBox = (cursor) => {\n    // create div element for resize handle\n    const box = document.createElement('div')\n\n    // Star with the specified styles\n    Object.assign(box.style, this.options.handleStyles)\n    box.style.cursor = cursor\n\n    // Set the width/height to use 'px'\n    box.style.width = `${this.options.handleStyles.width}px`\n    box.style.height = `${this.options.handleStyles.height}px`\n\n    // listen for mousedown on each box\n    box.addEventListener('mousedown', this.handleMousedown, false)\n    // add drag handle to document\n    this.overlay.appendChild(box)\n    // keep track of drag handle\n    this.boxes.push(box)\n  }\n\n  handleMousedown = (evt) => {\n    // note which box\n    this.dragBox = evt.target\n    // note starting mousedown position\n    this.dragStartX = evt.clientX\n    // store the width before the drag\n    this.preDragWidth = this.img.width || this.img.naturalWidth\n    // set the proper cursor everywhere\n    this.setCursor(this.dragBox.style.cursor)\n    // listen for movement and mouseup\n    document.addEventListener('mousemove', this.handleDrag, false)\n    document.addEventListener('mouseup', this.handleMouseup, false)\n  }\n\n  handleMouseup = () => {\n    // reset cursor everywhere\n    this.setCursor('')\n    // stop listening for movement and mouseup\n    document.removeEventListener('mousemove', this.handleDrag)\n    document.removeEventListener('mouseup', this.handleMouseup)\n  }\n\n  handleDrag = (evt) => {\n    if (!this.img) {\n      // image not set yet\n      return\n    }\n    // update image size\n    const deltaX = evt.clientX - this.dragStartX\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[3]) {\n      // left-side resize handler; dragging right shrinks image\n      this.img.width = Math.round(this.preDragWidth - deltaX)\n    } else {\n      // right-side resize handler; dragging right enlarges image\n      this.img.width = Math.round(this.preDragWidth + deltaX)\n    }\n    this.requestUpdate()\n  }\n\n  setCursor = (value) => {\n    ;[document.body, this.img].forEach((el) => {\n      el.style.cursor = value // eslint-disable-line no-param-reassign\n    })\n  }\n}\n","import { BaseModule } from './BaseModule'\n\nexport class AltAttribute extends BaseModule {\n  onCreate = () => {\n    // Create the container to hold the input element\n    this.display = document.createElement('div')\n\n    // Apply styles\n    Object.assign(this.display.style, this.options.displayStyles)\n\n    // Attach it\n    this.overlay.appendChild(this.display)\n\n    // ALT input\n    this.altInput = document.createElement('input')\n    if (this.img.alt) {\n      // Set default value into the input\n      this.altInput.value = this.img.alt\n    }\n    this.altInput.addEventListener('input', this.onAltInputChange)\n\n    this.display.insertAdjacentHTML('beforeend', 'Alt: ')\n    this.display.appendChild(this.altInput)\n  }\n\n  onAltInputChange = (e) => {\n    this.img.alt = e.target.value\n    this.img.title = e.target.value\n  }\n\n  onDestroy = () => {\n    this.altInput.removeEventListener('input', this.onAltInputChange)\n  }\n\n  onUpdate = () => {\n    if (!this.display || !this.img) {\n      return\n    }\n\n    Object.assign(this.display.style, {\n      right: 'auto',\n      bottom: '-40px',\n      left: '8px',\n      'min-width': '172px',\n    })\n  }\n\n  getCurrentSize = () => [\n    this.img.width,\n    Math.round(\n      (this.img.width / this.img.naturalWidth) * this.img.naturalHeight\n    ),\n  ]\n}\n","import defaultsDeep from 'lodash/defaultsDeep'\nimport DefaultOptions from './DefaultOptions'\nimport { DisplaySize } from './modules/DisplaySize'\nimport { Toolbar } from './modules/Toolbar'\nimport { Resize } from './modules/Resize'\nimport { AltAttribute } from './modules/AltAttribute'\n\nconst knownModules = { DisplaySize, Toolbar, Resize, AltAttribute }\n\n/**\n * Custom module for quilljs to allow user to resize <img> elements\n * (Works on Chrome, Edge, Safari and replaces Firefox's native resize behavior)\n * @see https://quilljs.com/blog/building-a-custom-module/\n */\nexport default class ImageResize {\n  constructor(quill, options = {}) {\n    // save the quill reference and options\n    this.quill = quill\n\n    // Apply the options to our defaults, and stash them for later\n    // defaultsDeep doesn't do arrays as you'd expect, so we'll need to apply the classes array from options separately\n    let moduleClasses = false\n    if (options.modules) {\n      moduleClasses = options.modules.slice()\n    }\n\n    if (options.parchment) {\n      this.parchment = options.parchment\n    }\n\n    // Apply options to default options\n    this.options = defaultsDeep({}, options, DefaultOptions)\n\n    // (see above about moduleClasses)\n    if (moduleClasses !== false) {\n      this.options.modules = moduleClasses\n    }\n\n    // disable native image resizing on firefox\n    document.execCommand('enableObjectResizing', false, 'false')\n\n    // respond to clicks inside the editor\n    this.quill.root.addEventListener('click', this.handleClick, false)\n\n    this.quill.root.parentNode.style.position =\n      this.quill.root.parentNode.style.position || 'relative'\n\n    // setup modules\n    this.moduleClasses = this.options.modules\n\n    this.modules = []\n  }\n\n  initializeModules = () => {\n    this.removeModules()\n\n    this.modules = this.moduleClasses.map(\n      (ModuleClass) => new (knownModules[ModuleClass] || ModuleClass)(this)\n    )\n\n    this.modules.forEach((module) => {\n      module.onCreate(this.parchment)\n    })\n\n    this.onUpdate()\n  }\n\n  onUpdate = () => {\n    this.repositionElements()\n    this.modules.forEach((module) => {\n      module.onUpdate()\n    })\n  }\n\n  removeModules = () => {\n    this.modules.forEach((module) => {\n      module.onDestroy()\n    })\n\n    this.modules = []\n  }\n\n  handleClick = (evt) => {\n    if (\n      evt.target &&\n      evt.target.tagName &&\n      evt.target.tagName.toUpperCase() === 'IMG'\n    ) {\n      if (this.img === evt.target) {\n        // we are already focused on this image\n        return\n      }\n      if (this.img) {\n        // we were just focused on another image\n        this.hide()\n      }\n      // clicked on an image inside the editor\n      this.show(evt.target)\n    } else if (this.img) {\n      // clicked on a non image\n      this.hide()\n    }\n  }\n\n  show = (img) => {\n    // keep track of this img element\n    this.img = img\n\n    this.showOverlay()\n\n    this.initializeModules()\n  }\n\n  showOverlay = () => {\n    if (this.overlay) {\n      this.hideOverlay()\n    }\n\n    this.quill.setSelection(null)\n\n    // prevent spurious text selection\n    this.setUserSelect('none')\n\n    // listen for the image being deleted or moved\n    document.addEventListener('keyup', this.checkImage, true)\n    this.quill.root.addEventListener('input', this.checkImage, true)\n\n    // Create and add the overlay\n    this.overlay = document.createElement('div')\n    Object.assign(this.overlay.style, this.options.overlayStyles)\n\n    this.quill.root.parentNode.appendChild(this.overlay)\n\n    this.repositionElements()\n  }\n\n  hideOverlay = () => {\n    if (!this.overlay) {\n      return\n    }\n\n    // Remove the overlay\n    this.quill.root.parentNode.removeChild(this.overlay)\n    this.overlay = undefined\n\n    // stop listening for image deletion or movement\n    document.removeEventListener('keyup', this.checkImage)\n    this.quill.root.removeEventListener('input', this.checkImage)\n\n    // reset user-select\n    this.setUserSelect('')\n  }\n\n  repositionElements = () => {\n    if (!this.overlay || !this.img) {\n      return\n    }\n\n    // position the overlay over the image\n    const parent = this.quill.root.parentNode\n    const imgRect = this.img.getBoundingClientRect()\n    const containerRect = parent.getBoundingClientRect()\n\n    Object.assign(this.overlay.style, {\n      left: `${imgRect.left - containerRect.left - 1 + parent.scrollLeft}px`,\n      top: `${imgRect.top - containerRect.top + parent.scrollTop}px`,\n      width: `${imgRect.width}px`,\n      height: `${imgRect.height}px`\n    })\n  }\n\n  hide = () => {\n    this.hideOverlay()\n    this.removeModules()\n    this.img = undefined\n  }\n\n  setUserSelect = (value) => {\n    ;[\n      'userSelect',\n      'mozUserSelect',\n      'webkitUserSelect',\n      'msUserSelect'\n    ].forEach((prop) => {\n      // set on contenteditable element and <html>\n      this.quill.root.style[prop] = value\n      document.documentElement.style[prop] = value\n    })\n  }\n\n  checkImage = (evt) => {\n    if (this.img) {\n      if (\n        document.activeElement.tagName === 'BODY' &&\n        (evt.code === 46 ||\n          evt.code === 8 ||\n          evt.keyCode === 46 ||\n          evt.keyCode === 8)\n      ) {\n        const imageNode = window.Quill.find(this.img)\n        if (imageNode) {\n          imageNode.deleteAt(0)\n        }\n        this.hide()\n      }\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}